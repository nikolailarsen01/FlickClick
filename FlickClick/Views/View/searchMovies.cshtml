@model List<PreviewMovieModel>

@{
    ViewData["Stylesheet"] = "/css/movies.css";
}

<h2>@ViewBag.Filter</h2>
<div class="movie-banners-items">
    @for (int i = 0; i < Model.Count; i++)
    {
        <div class="movie-banners-item">
            <div class="content">
                <a asp-controller="View" asp-action="Movie" asp-route-id="@Model[i].movieID">
                    <div class="content-overlay"></div>
                    <img class="content-image" src="@Model[i].picturePath">
                    <div class="content-details fadeIn-bottom">
                        <h3 class="content-title">Play Trailer</h3>
                        <img class="play-button" src="https://i.imgur.com/vXXQugU.png" />
                        <p class="content-text">@Model[i].title</p>
                    </div>
                </a>
            </div>
        </div>
    }
</div>


<div class="movie-extra">
    <div class="movie-extra-halfitem">
        <div class="movie-extra-halfitem-header">
            <p class="movie-extra-halfitem-header-item">NEWS</p>
            <a class="ul" asp-controller="View" asp-action="News">Read more</a>

        </div>
        @foreach (var item in (ViewBag.NewsAndUpcoming.News as List<NewsModel>))
        {
            <div class="movie-extra-item">
                <small>@item.postDate.ToString("dd-mm-yyyy")</small>
                <h6>@item.title</h6>
                <p class="movie-extra-item-p">
                    @if (@item.text.Length > 200)
                    {
                        @item.text.Substring(0, 200)
                    }
                    else
                    {
                        @item.text
                    }
                </p>
                <a class="ul" asp-controller="View" asp-action="Article" asp-route-id="@item.ID">Read more</a>
            </div>
        }
    </div>
    <div class="movie-extra-halfitem">
        <div class="movie-extra-halfitem-header">
            <p class="movie-extra-halfitem-header-item">COMING SOON!</p>
            <a class="movie-extra-halfitem-header-item right ul" asp-controller="View" asp-action="Movies" asp-route-id="?search=">Show all</a>
        </div>
        @foreach (var item in (ViewBag.NewsAndUpcoming.ComingSoon as List<PreviewMovieModel>))
        {
            <div class="movie-extra-item">
                <small>@item.releaseDate.ToString("dd-mm-yyyy")</small>
                <h6>@item.title</h6>
                <div class="movie-extra-item-section">
                    <img class="movie-extra-item-section-picture" src="@item.picturePath" />
                    <div>
                        <p class="movie-extra-item-section-p">
                            @if (@item.description.Length > 200)
                            {
                                @item.description.Substring(0, 200)
                            }
                            else
                            {
                                @item.description
                            }
                        </p>
                        <a class="ul" asp-controller="View" asp-action="Movie" asp-route-id="@item.movieID">Read more</a>
                    </div>
                </div>
            </div>
        }
    </div>
</div>
